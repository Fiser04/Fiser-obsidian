**Osi model**
	- zjednoduseny
		- aplikacni (3)
		- transportni (1)
		- internetova (1)
		- pristupova (2)
	- klasicky
		- aplikacni
		- prezentacni
		- relacni
		- transportni
		- sitova
		- linkova
		- fyzicka

**Encapsulation & Decapsulation**
	- nabalovani dalsich dat na vrstvach
	- proces opacny na strane prijemce
	- ja nabaluju, on rozbaluje *jako darek*

**Typy siti podle rozlohy**
	- LAN
		- local area network
	- WAN
		- wide are network
	- MAN
		- metropolitan area network

**IEEE 802**
	- 1 - linkova vrstva
	- 1Q - VLAN
	- 2 - LCC
	- 3 - Ethernet (mac)
	- 11 - bezdrat (WLAN)
	- 15 - bluetooth
	- 1x - authentizace (RADIUS)

**L1 - Fyzicka vrstva osi modulu**
	- styl komunikace
		- Simplex
			- komunikace jen jednim smerem
		- Half-duplex
			- komunikace obou smery ale ne najednou
		- Full-duplex
			- obousmerna komunikace
	- metalika
		- barvy (T568B)
			- bilo oranz
			- oranz
			- bilo zel
			- modra
			- bilo modra
			- zel
			- bilo hned
			- hned
		- typy chraneni kabelu
			- UTP
				- unshielded twist pair
				- nema ochranu proti ruseni
					- *nema alobal*
			- FTP
				- foiled twist pair
				- stineni celku
					- *alobal jen kolem celku*
				- znamy jako S/UTP
			- STP
				- shielded twist pair
				- stineni na parech
					- *alobal kolem zamotanejch dvojic kabilku*
			- pak je jeste lepsi jedna kde je alobal jak na parech tak i na celku
		- typy konektoru RJ
			- RJ-45
				- 8 vodicu (4 pary)
				- dnesni standart pro datove site
				- klasickej ethernet
			- RJ-11 
				- 4 vodice (2 pary)
				- standart pro telefony
				- driv se pouzivali i pro internet, doba ala vytaceni internetu
			- RJ-12
				- 6 vodicu (3 pary)
		- patch cord
			- hotovy kabel na propojovani
			- casto 0,5m, 1m, 2m, 5m, 10m
		- utlum signalu
			- db/km
			- faktory ovlivnujici utlum
				- impedance
					- kdyz je vic vodicu u sebe
				- ruseni/sum
					- venkovni elektromagneticky hluk
				- delka kabelu
				- frekvence
			- vypocet			
				- $$A = 10 \log_{10} \left( \frac{P_{in}}{P_{out}} \right)$$
				- Pin je input power
				- Pout je output power
		- standarty kabelu
			- Cat5e
				- 1gb/s, 100m, 100-125Mhz
			- Cat6
				- 10gb/s, 37m, 200-250Mhz
			- Cat6A
				- 10gb/s, 100m, 500Mhz
		- aktivni prvek
			- opakovac (repeater)
				- zesiluje signal
			- rozbocovac (hub)
				- veme to a posle na vsechny obsazene porty krome odesilatele
		- nutne pojmy
			- Bit-rate
				- kolik bitu projde za sekundu
			- Braud-rate
				- frekvence zmeny signalu
			- Bit-time
				- doba potrebna pro prenos jednoho bitu
			- FEC (Fordward-Error-Correction)
				- kontrolni bity
			- modulace
				- jedna se o zvyseni poctu moznych bitu k prenosu najednou?
				- transformace z digitalniho na fyzicky signal a naopak
				- pr. 
				- | -3V | 00  |
				- | -1V | 01  |
				- | +1V | 10  |
				- | +3V | 11  |
				- PAM4 A PAM5
					- 4 dimenze
					- 0 a 4 hodnoty (2 v plus a 2 v minus)
		- POE
			- power over ethernet
	- optika
		- fyzika
			- lambda λ  *fucking half life blyat*
				- "barva" svela
				- vlnova delka
			- index lomu
				- kolikrat se rychost zpomali oproti referencni hodnote 
				- vakuum -> n = 1
				- kremikove vlakno -> n = 1.45
			- vzorec$$V=\frac{c}{n}$$  - V -> rychlost svetla v materialu
				- c -> rychlost svetla v vakuu
					- 299792458 m/s
				- n -> indx lomu
		- obecne
			- vedeme misto eletrickeho signalu svetlo
				- 1 = svetlo, 0 = zadne svetlo (bez modulace)
			- je potreba
				- emitor (*pro predstavu laserove ukazovatko*)
				- prenosne medium (*treba hot glue stick*)
				- detektor (fotodioda)
			- hlavni vyuziti
				- paterni spoje
					- dlouha vzdalenost
			- imuni vuci elektromagnetickemu ruseni
		- struktura optickeho vlakna
			- stred je ze kremikoveho skla
			- okolo nej je vysoce odrazny material
			- dale uz jsou ochrane prvky jako treba preskyrice, kevlar, gel, nehorlavy plast, atd.
		- opticky kabel
			- tvori ji hromada vlaken ktere jsou v mikrotrubickach
				- existuji i monokabely
					- nejsou mikrotrubicku, casto 12 vlaken
		- vice-vidovy
			- vetsi prumer stredu (50 - 62 mikronu)
			- vetsi utlum *takze ok na kratsi vzdalenost*
			- vice zdroju svetla *vyhoda i nevyhoda, posilam vic signalu naraz ale vsechny prijdou v jinou dobu*
			- vlnova delka
				- 850 - 1310 nm
			- typy
				- OM1 (62 mikronu)
				- OM5 (50 mikronu) *nejdelsi vzdalenost*
			- existuji take gradientvni vicevidy
				- misto toho aby se paprsek odrazel jak zrovna pristal tak to dela z paprsku takovou sinusoidu
		- jedno-vid
			- maly prumer stredu (do 10 mikronu)
			- velmi maly utlum
			- vetsi vzdalenost
			- pouze jeden paprsek
				- 1310 - 1550 nm
			- C-band
				- 1530 - 1565 nm
			- pro full duplex je potreba mit 2
		- optika bez kabelu (FSO)
			- Free Space Optics
			- max na jednotky kilometru
			- vysoky utlom a ztraty
			- vhodne do mest
		- modulace
			- smeruju paprsky
		- dark fiber
			- nepouzivana/vypnuta optika (casto jako zalozni reseni, kdyby se neco posralo)
	- bezdrat
		- sireni pomoci radiovymi vlnami
		- limity odpovidaji fyzikalnim zakonum
			- prekazky, ruseni, zahlceni pasma
		- oproti dratu je casty "sum"
		- kvalita spojeni je umerna s rychlosti
		- vlastnosti frekvenci
			- 2,4Ghz
				- 13 kanalu
				- sirka 20Mhz
				- rozdil 5Mhz
				- sirka pasma je 12,5 cm
			- 5Ghz
				- 140 kanalu
				- sirka 20Mhz
				- vykon 1W
				- sirka pasma je 6 cm
		- IEEE 802.11
			- origo
				- 2,4gh
				- 2 Mbit/s
			- a
				- 5gh
				- 54 Mbit/s
			- b
				- 2,4gh
				- 11 Mbit/s
			- g
				- 2,4gh
				- 54 Mbit/s
			- n
				- 2,4 a 5gh
				- 150 Mbit/s
			- ac
				- 5gh
				- 400 Mbit/s
		- SSID
			- nazev site
		- BSSID
			- mac adresa ap
		- Beam forming
			- smerovani signalu na zarizeni
			- "you know what, fuck you, cancer beam"
		- Channel bounding
			- spojovani kanalu, pro rychlejsi komunikaci
		- MIMO
			- vysilani vice uzivatelum na wifi naraz (jinak proste vzdy vybere jednoho, tomu vysila)
		- Infrastruktura
			- BSS - Jeden AP
			- ESS - vice AP (10-15% maximalni prekryti)
			- multi ssid managment/vice AP roaming
				- takovyto automaticky prepinani me AP kdyz jdes
				- WLC
		- Scanning
			- Active
				- vysilam a ptam se jestli tam nejaka wifi je (zere baterku)
			- Passive
				- posloucham jestli nekdo zacne vysilat oznameni o tom ze tam je (pomale)
		- Zabezpeceni
			- WEP
				- starej, davno prolomenej
			- WPA
				- sifrovane
			- WPA enterprise
				- WPA+RADIUS
		- IEEE 802.15.1 - Bluetooth
			- WPAN
			- hlavne mobilni zarizeni
			- nizsi rychlost ale nizka spotreba
			- deleni podle vykonu
				- class 1
					- 100mW
					- do 100m
				- class 2
					- 2,5mW
					- do 10m
				- class 3
					- 1mW
					- do 1m
			- verze
				- 1.1
				- 1.2
					- vyssi prenosova rychlost (721 kbps)
				- 2.0
					- 3x rychlejsi nez 1.2
				- 2.1
				- 3.0
					- az 24 Mbit/s
					- poziva par wifi technologii
				- 4.0
					- dosah az 50 metru
					- 1 MB/s

**L2 - Linkova vrstva osi modulu**
	- patri sem
		- vytvareni ramce
		- pristup k mediu
		- MAC a LLC
		- prepinani
	- odlisuje kde zacina a kde konci ramec prenasenych dat
	- zabezpecuje detekce a opravy chyb ktere mohou nastat na fyzicke vrstve
	- flow control
		- aby odesilatel nezahltil prijemce
	- vytvareni ramce
		- prevezmu data z vyssi vrstvy a pridam
			- hlavicka (head, pred data)
				- start bit
					- *hej zacinam*
				- adresy
					- komu a od koho
				- typ/delka
					- co nebo jak dlouhy to je
			- ocas (tail, za data)
				- fcs
					- kontrola jestli se neco neposralo
				- stop bit
					- optional
					- pouziva se pokud neni delka znama
	- LLC
		- logical link control
		- logicke rizeni provozu
		- zabezpecuje zapouzdreni
		- rizeni toku a detekce chyb
	- MAC
		- media access control
		- pridava adresy do ramce
		- oznacuje zacatek a konec
	- mezera mezi ramci
		- mezera je nutny cas ke zpracovani ramce a pripraveni na prijeti dalsiho
	- standardni max velikost dat v ethernet je 1500 bajtu
		- ale v Gigabit Ethernet zvysuje na 9000 bajtu
	- standardni ethernetovy ramec
		- Preambule
			- 7 bajtu
			- synchronizace hodin prijemce
		- SFD
			- Start of Frame Delimeter
			- 1 bajt
		- Cilova MAC adresa
			- 48 bitu, 6 bajtu
		- Zdrojova MAC adresa
			- 48 bitu, 6 bajtu
		- Typ/Delka
			- pole urcuji typ vyssiho protokolu udavajici delku dat
		- Data + vypln
			- Data
				- dlouhe pole 46-1500 bajtu
				- minimum je pro spravnou detekci chyb
			- Vypln
				- kdyz je to min jak 46 bajtu, tak to doplni
		- FCS
			- Frame Check Sequence
				- 32 bitovy kontrolni kod
		- tudiz celek je 6+6+2+1500+4 = **1518**
	- MAC adresa
		- jednoznacna identifikace media na lokalni siti
		- 48 bitu, 6 bajtu
		- ruzne typy zapisu
			- FF-FF-FF-FF-FF-FF
			- FF:FF:FF:FF:FF:FF
			- FFFFFFFFFFFF
		- prvni 3 pary (oktety)
			- identifikace vyrobce
		- posledni 3 pary
			- identifikace zarizeni
	- smycka na l2
		- vznika kdyz mam z switchu udelanej kruh a poslu broadcast
		- nejlepsi je to predejit jen jednou aktivni cestou
	- bezdrat
		- sondovani
			- beacon ramec
			- SSID
			- Podporovane rychlosti
			- Zabezpeceni
		- autentizace
			- otevreny
			- WEP
				- starej, prolomenej
			- WPA (/2/3)
				- zasifrovanej
			- RADIUS (IEEE 802.1x, WPA enterprise)
		- pridruzeni
			- navazani spojeni na linkove vrstve
			- podobny proces jak na switchi
	- CSMA/CD
		- colision detection
		- *oi blyaaa, je tu kolize, kurwa, no co, tak vse pozastavim, najebu random cislo vsem a budu je podle toho cisla poustet*
		- klasicky ethernet
	- CSMA/CA
		- colision avoidance
		- *sniff, sniff, vysila nekdo? jo, pici, tak cekam, ..., a ted? ne, tak zacnu ja vysilat*
		- ve wifi a dalsich bezdratech
	- switch (prepinac)
		- umoznuje VLAN
			- rozdeleni do virtualni siti
			- potreba L3 switch (MLS)
		- zesiluje signal
		- misto toho aby vse rozesilal na vsechny porty tak se ridi podle switching table (prepinaci tabulka *ta cestina je vazne prijebla*)
			- tabulka do ktere si switch zapisuje na jakem portu je jaka MAC adresa
				- *tpc ramec, tak ukaz, prislo to z 5tky, mac adresa sedi a chce to poslat na 88:88:88:88:88:88, hmmm, kde je ta kurwa, aaaaa ty curaku, na 7ce je svine, yaaaa yeeeet*
			- jakmile nenalezne mac adresu na kterou to ma poslat v switching table, tak to posle vsude krome odesilatele
				- *tpc ramec, tak ukaz, prislo to z 8cky, tu neznam, dobre zapisuju si a chces na 11:11:11:11:11:11, pico to neznam, tak si naser, poslu to vsem a nemuzes s tim nic udelat ty mocko*
	- VLAN
		- virtualni site
		- rozsirim hlavicku o 4 bajty
			- tento sektor bude nest vlan id
	- overovani IEEE 802.1x
		- fyzicka authentizace
		- kdyz neco pripojim tak je port zablokovan do te doby dokud nejsou poskytnuty authentizacni udaje
		- nastavuje se na switchi
		- pouziva se take v bezdraty
		- proces
			- pripojim
			- zablokuje se port a veskera komunikace az na EAP protokol
			- pusti se na zarizeni program ktery zahaji overeni pres EAP
			- aktivni prvek navaze spojeni na RADIUS
			- overeni uzivatele
				- lokalne primo na RADIUS
				- pokud neni lokalne tak pomoci strukturu RADIUSu
			- switch je informovan o vysledku a bud pusti provoz nebo zakaze
		- RADIUS
			- Remote Athentication Dial In User Service
			- UDP/1812 - authentizace
			- UDP/1813 - uctovani
		- DIAMETER
			- naslednik RADIUSU
			- pouziva TCP
		- PowerLine/Homeplug
			- ethernet pres eletricke vedeni
		- POE
			- power over ethernet
			- pasivni
				- proste to posila vzdy stejne
				- kdyz tam zapojim neco co to nechce tak to zhori
			- aktivni
				- nejdrive probehne "vyjednavani" o kolik a jestli vubec to bude

**L3 - Sitova vrstva osi modulu**
	- IPv4
		- sturktura
			- 32 bitu
			- 0-255 -> 2^8 -1
			- prevod
				- vemu 160.217.209.12 a roztrham to na samostatna cisla, ty prevedu a pak je zase seradim
		- IP hlavicka
		 ![[Pasted image 20250609143229.png]]
			- Version
				- verze IP protokoly
				- 4 bity
			- IHL
				- Internet Header Lenght
				- delka hlavicky (krat 32 bitu)
				- min hodnota je 5
				- 4 bity
			- DSCP
				- Differentiated Services Code Point
				- pro real-time streaming
				- 6 bitu
			- ECN
				- Explicit Congestion Notification
				- informace o zahlceni
				- 2 bity
			- Packet Lenght
				- celkova velikost packetu
				- 16 bitu
			- Identification
				- cislo identifikujici fragment
				- 16 bitu
			- Flag
				- ukazatel zda byl packet fragmentovan
				- 3 bity
			- Fragment offset
				- pozice fragmentu v ip diagramu
				- 13 bitu
			- TTL
				- Time to live
				- ochrana proti loopu
				- 8 bitu
			- Protocol
				- protokol 4. vrstvy
				- tcp, udp, atd.
				- 8 bitu
			- Header Checksum
				- Kontrolni soucet hlavicky
				- 16 bitu
			- Source IP Address
				- Zdrojova IP
				- 32 bitu
			- Destination IP Adress
				- Cilova IP adresa
				- 32 bitu
			- Options
				- specialni ucely
				- promena bit
			- Padding
				- doplneni nul aby byl padding + options = 32
				- 32 - options = padding bitu
		- Cast
			- Unicast
				- primo pro nekoho *zvedne se jen Franta Lala*
				- peer to peer komunikace
				- zpracovava to jen ten koho se to tyka, ostatni zahazuji
			- Multicast
				- primo pro skupinu *zvednou se jen ti co vcera byli na pivu*
				- typicky audio/video vysilani
				- zpracovavaji to jen ti co patri do skupiny, ostatni zahazuji
			- Broadcast
				- primo vsem *zvednete se*
				- typicky treba dhcp
				- posle se vsem a musi to zpracovat
		- Maska
			- meni velikost rozsahu
			- 255 -> cislo v adrese se nemeni
			- 0 -> cokoliv od 0 do 255
			- cidr zapis
				- / + pocet jednicek
				- /24 = 11111111.11111111.11111111.00000000
		- Verejne IP adresy
			- A -> 1-127   (255.0.0.0)
			- B -> 128-191 (255.255.0.0)
			- C -> 192-223 (255.255.255.0)
			- D -> 224-239
			- E -> 240-255
		- Neverejne IP adresy
			- A -> 10.0.0.0 (255.0.0.0)
			- B -> 172.16.0.0 - 172.31.0.0 (255.240.0.0)
			- C -> 192.168.0.0 (255.255.0.0)
		- Adresa site
			- logicky soucin vznikly nasobenim masky a adresou
			- 160.217.209.12 * 255.255.0.0 = 160.217.0.0
		- n pravidlo
			- v siti nemohu pouzivat urcite adresy, protoze jsou automaticky pouzivane
			- n-2
				- adresa site (prvni mozne)
				- adresa broadcastu (posledni mozne)
			- n-3
				- adresa site (prvni mozne)
				- adresa broadcastu (posledni mozne)
				- adresa brany (komunikace mimo lokalni sit)
		- NAT
			- network address translator
			- preklada adresy vnitrni site na verejne adresy
			- typy
				- Staticky
					- dana vnitrni adresa vzdy dostane danou verejnou
				- dynamicky
					- vnitrni adresa vzdy dostane volnou verejnou ip adresu
				- PAT/NAPT
					- network adress port translator
					- narozdil od NAT pridava porty, na zaklade portu komunikuje s vnitrni siti
					- jak funguje
						- prekladana adresa je ulozena do tabulky pod dynamicky prirazenym portem, pod timto portem pote probiha komunikace "verejna <-> lokalni IP adresa"
							- v internetu je videt router jako zdroj
						- smer VEN (poprve)
							- uzivatel posle zpravu
							- router se podiva jestli je to ven nebo do vnitr
							- kdyz je to ven tak adresu prehodi na adresu vnejsiho portu
							- zaroven je vytvoren zaznam tabulce
						- smer DOVNITR
							- packet prijde na router
							- ten ho porovna s tabulkou
							- kdyz najde tak prekope adresu do vnitrni podle tabulky
							- kdyz nic nenajde tak packet zahazuje
						- pri prepisu IP je nutne prepocitat kontrolni soucet
				- NAT Travversal
					- proste dojdu a narvu do hlavicky dalsi kus, kterej se prelozi misto ty origo
					- je to kvuli tomu ze ruzne aplikace pracuji s daty jako treba od kud to prislo
	- IPv6
		- struktura
			- 128 bitu
			- 8 x 16 bitu dlouhe pole
			- pravidlo pro zkracovani
				- tam kde je nalevo 0 tak ji psat nemusim a tam kde je blok nul tak muzu proste x::x
		- caste adresy
			- ::/128 -> IPv6 neni definovano
			- ::/0 -> default route
			- ::1/128 -> Loopback (local host)
			- FF00::/8 -> multicast
			- FE80::/10 (FE80 - FEBF) -> Link-Local
		- hlavicka
			 ![[Pasted image 20250609153314.png]]
			- Version
				- verze IP protokolu
			- Traffic Class
			- Flow Lable
			- Payload Length
			- Next Header
				- odkaz na dalsi hlavicku
			- Hop Limit
			- Source adress
				- Zdrojova IP
			- Destination Adress
				- Cilova IP
		- privatni adresy
			- FC00::/7
			- vzdy prvnich 48
		- link local
			- casto dopocitane EUI-64
			- zasadni pro
				- automatickou konfiguraci
				- objevovani sousedu
				- objevovani routeru
		- cast
			- multicast
				- zahrnuje i broadcast
				- FF00::/8
				- pole scope
					- dosah v hlavicce
				- mld
					- zadost o zarazeni do skupiny
			- anycast
				- identifikace stejnoucelovych zarizeni
				- poslu to anycastem na servery aby se zatez rozlozila
			- unicast
				- prvnich 64 bitu
				- stavova
					- s dhcpv6
				- bezstavova
					- bez dhcpv6
					- SLAAC
		- services
			- DHCPv6
				- stavove automaticke nastaveni
					- stary znamy dhcp
					- poskytuje vse info krome brany
			- ICMPv6
				- ping
				- ECHO
			- DNSv6
				- zaznam AAAA
				- kdyz to nema AAAA ale jen A tak to veme A zaznam, hodi prefix 64:ff9b, router chape ze to znamena ze to je ipv4 a ne ipv6
	- IPv6 vs IPv4
		- IPv6 ma jednodusi halvicku
			- chybi kontrolni soucet
			- spravne serazene
				- na zacatku jsou informace ktere jsou potreba co nejdrive
	- prechodove mechanizmy
		- jedno sitove rozhrani ma vice ipv6 adres
		- dual stack
			- jak ipv4 tak ipv6 na jednom rozhranim
		- tunneling
			- 6in4
				- spojeni ipv6 skrze ipv4
				- IPv6 je zapouzdřen protokolem IPv4
				- V hlavičce IPv4 je v poli protokol uvedeno číslo 41
				- Velikost IPv4 hlavičky je 20 bajtů (s prázdným polem „options“)
			- dalsi priklady tunnelingu
				- 6to4
				- teredo (microsoft)
				- 4in6
		- preklad
			- NAT64
		- z ipv4 na ipv6
			- vemu 160.217.211.10
			- udelam z toho treba tohle 2001:067c:1220:4::160.217.211.10
			- a prepisu to na 16tkovou soustavu
			- -> 2001:067c:1220:4::a0.d9.d3.a
	- IPSEC
		- zabezpeceni na L3
		- pouziva to VPN
		- vyuziva automatickou vymenu klicu ISAKMP

**L4 - Transportni vrstva osi modulu**
	- hlavni ucel je priprava z aplikacni vrstvy na sitovou
	- TCP
		- pomalej ale spolehlivej
		- vytvari sessions
		- roztrhavam data na segmenty (fragmenty), ty ocisluju a kontroluju jestli prisli vsechny a kdyz neprijdou po sobe tak je seradi
		- hlavicka tedy obsahuje
			- zdrojovy port
			- cilovy port
			- cislo segmentu (fragmentu)
			- potvrzeni doruceni
			- kontrola toku + chyb
		- navazovani spojeni
			 ![[Pasted image 20250610144851.png]]
			$$ACK_n=SEQ_n+1$$
		- ukonceni spojeni
			 ![[Pasted image 20250610145403.png]]
		- window size
			- kolik bajtu je preneseno bez potvrzeni
			- proste misto abych vsechno postupne potvrzoval ze to prislo muzu poslat vic veci a pak mi prijde potvrzeni ze to vse prislo
			- nevyhoda je kdyz jen jeden kousek neprijde tak se musi posilat vse od znova
			- velikost je **DYNAMICKA**
				- zvetsi se pokud vse prislo v poradku
				- zmensi se kdyz to neprislo v poradku
		- priklady portu
			- 20 -> ftp (data)
			- 21 -> ftp (prikaz)
			- 22 -> ssh
			- 23 -> telnet
			- 25 -> smtp
			- 80 -> http
			- 443 -> https
			- 110 -> pop3
			- 143 -> imap
			- 465 -> smtps
			- 993 -> imaps
			- 995 -> pop3s
			- 6665-6669 -> irc 
			- 8008, 8080, 8090 -> alternativa http
	- UDP
		- rychly ale nespolehlivy
		- zadne potvrzovani
		- zadne posilani znovu pri ztrate
		- zadne poradi
			- tak jak to prijde tak to bude
		- nenavazuje spojeni pred posilanim
		- ALE je mensi hlavicka
			- -> mensi narok na lince -> je to rychlejsi
			- o kolik rychlejsi? ano
		- hlavicka
			- zdroj port
			- cil port
		- priklady portu
			- 53 -> dns
			- 67 -> dhcp (odpoved)
			- 68 -> dhcp (dotaz)
			- 69 -> tftp
			- 88 -> xbox game service
			- 123 -> ntp
			- 1812 -> radius
		- pseudo-hlavicka
			- vypocet kontrolnio souctu

**L5-7 - Aplikacni vrstva osi modulu**
	- protokoly
		- Eduroam
			- system dovolujici studentum se pripojit na net na partnerske skole
		- SMTP
			- posilani eletronicke posty
			- prenost od klienta (mua) a serverem (mta)
			- tcp/25
		- POP3
			- stahuje emaily do kompu
		- IMAP
			- ukazuje zpravy ktere jsou ulozene na serveru
			- tpc/143
		- Telnet vs SSH
			- vzdalene ovladani pres radku
			- Telnet (tcp/23) je nesifrovany
			- SSH (tcp/22) je sifrovany
		- FTP
			- File transport protocol
			- tpc/21 (prikaz) a tcp/20 (data)
		- RDP
			- remote desktop protocol
			- *ssh s gui*
			- tcp/3389
		- NTP
			- network time protocol
			- udp/123
		- DHCP
			- dynamic host configuration protocol
			- zakladni sitova konfigurace zarizeni
			- udp/67 (odpoved) a udp/68 (dotaz)
			- prikazy v oknech
				- ipconfig /release
					- dropne to konfiguraci od dhcp
				- ipconfig /renew
					- zazada o novou konfiguraci (ted uz to resi jen unicastem od toho co dostal posledni nastaveni)
			- proces pri prvnim zapojeni kompu (v mac adresach)
				- DHCP-DISCOVER
					- *hej zmrdi, je tu nejaky dhcp?*
					- od pc broadcastem (ff:ff:ff:ff:ff:ff)
				- DHCP-OFFER
					- *jo vole, chces takovyhle nastaveni?*
					- unicast od dhcp
				- DHCP-REQUEST
					- *jo to by slo*
					- broadcast
				- DHCP-ACK
					- *ok bro, takze summary, takovyhle mas od ted muzes mit nastaveni*
					- unicast
			- mam 2 typy zaznamu
				- dynamicky
					- dobra vec kdyz se mi furt meni pocet aktivnich zarizeni
					- treba kompy ve firme nebo wifi
				- staticky
					- zada se rucne
					- hodi se to treba na tiskarnu
	- DNS
		- Domain name system
		- preklad ip adresy na lidsky pochopitelna slova a naopak
		- klient kontaktuje dns server aby prelozil treba seznam.cz, dns vrati 77.75.77.222
		- domena
			- zakladni adresni jednotka internetu
			- nazev a koncovka (TLD) webu nahrazujici IP adresu
			- kazda je unikatni
			- tvori ji
				- max 63 znaku i s koncovkou a teckou
				- max 127 urovni s maximalni delkou 255
				- neresi se velka a mala pismena
				- pouze zakladni ASCII
					- anglicka abeceda
					- cislice
					- pomlcka a par znaku
				- zadna diakritika
		- koncovka
			- Narodni (ccTLD - country code TLD)
				- .cz, .sk, .de
				- vazou se ke statu
				- spravu resi jednotlive registry
					- NIC (Network Information Center)
			- Genericke (gTLD - generic TLD)
				- nadnarodni a ucelove
				- .com (comercial), .org, .networks
				- .edu, .museum
				- v kombinaci s ccTLD
					- .co.uk, .com.pl, .org.in
				- neexistuje jen jedna autorita, akreditace daneho registratora primo od ICANN
		- IDN
			- internazionalized domain names
			- preklad z unicode na ascii
			- takze müller.de -> mueller.de
			- pro .cz zatim neni
		- pracuje na portu 53 a pouziva jak udp tak tcp
		- ma hierarchicky system (stromovy pro normalni lidi)
			- *tpc, nemam tucha, ale mam chabra kterej zna odpoved*
		- zakladni pojmy
			- CNAME
				- domenovy alias
			- MX
				- mail exchange
				- proste zaznam o postovnim serveru na domene
			- SPF
				- seznam SMTP serveru pro danou domenu
			- NS
				- name server
				- zaznam dns serveru
			- A
				- ipv4 adresy
			- AAAA
				- ipv6 adresy
		- DNS servery
			- Root
				- spravce urcuje IANA
				- deli se do 13ti, 12 jich spravuje organizace
				- v cr 7 ve skupinach D, F, J, K, L (praha)
			- Top-Level
				- staraji se o danou domenu (pr .cz)
				- seznam vsech serveru druhe urovne
			- Druha uroven
				- resi domenu druheho radu (pr jcu.cz)
				- seznam vsech serveru treti urovne
			- Treti uroven
				- typicky v organizacnich jednotkach (pr prf.jcu.cz)
				- TTL
					- specifikuje jak dlouho zustane zaznam v pameti
			- Lokalni server
				- DNS resolver
		- DNS urovne
			- Root Domain
			- TLD
				- .cz
			- 2.
				- jcu.cz
			- 3. 
				- prf.jcu.cz
			- 4. a dalsi
				- idk.prf.jcu.cz
		- Autority
			- IANA
				- Internet Assigned Numbers Authority
				- celosvetove zodpovida za root dns a pridejovani ip adres
				- zastresuje regionalni organizace na kontinentech (RIRs)
					- u nas ripe.net
			- ICANN
				- vymezuje rozhodci pro reseni sporu o domeny
				- spravuje gTLD
				- prideluje akreditace spravcum TLD
					- takze NIC
		- vznik a zanik TLD
			- schvalenim ICANN
		- NIC
			- narodni organize zodpovedna za TLD
			- urcuje pravidla pro registraci dane TLD
			- u nas CZ.NIC, pro .eu je EuRid
		- WHOIS DataBase
			- verejna databaze informaci o domene
			- sluzba je zdarma, za poplatek historie domeny
		- registrace domeny
			- vyber domenoveho jmena (kratky, zapamatovatelny)
			- zjistit registracni odobi, pravidla a cena
			- zakladni postup
				- overeni dostupnosti
				- uvedenei kontaktnich udaju
				- uvedeni name serveru
		- sprava domeny
			- aktualizace kontaktnich udaju
			- transfer mezi registratory
			- upozorneni na exspiraci
			- komplikace pri pozdnim prodlouzeni
				- poplatek
				- deaktivace
				- ztrata
				- vydirani
		- zmena vlastnika
			- provadi se v hlavnim registru registratora
		- pravni spory
			- registrace domeny s cizym jmenem
			- na spatnou osobu
			- obsah poskozuje nekoho cizyho
			- atd.
		- DNS nastaveni (u klienta)
			- sudo nvim /etc/resolv.conf
			- ipconfig /all
			- probiha "cachovani"
				- ukladaji se zaznamy do lokalni tabulky, aby se nemuselo furt ptat nekoho jineho, kdyz na ten web chodim furt
				- ipconfig /displaydns
					- zobrazeni DNS resolver
				- ipconfig /flushdns
					- vycisteni tabulek
		- NSLOOKUP
			- manualni dotaz
			- od primarniho a sekundarniho severu je odpoved brana za originalni (jsou autorativni)
			- furt se pouziva aby byla zjistena spravnost zaznamu
			- autorativni dns server pro TLD v cr je a.ns.nic.cz, dalsi zname jsou treba 8.8.8.8 a 8.8.4.4 (google dns)
		- jak dns server postupuje pri ptani
			- client: *hej resolvere, znas tohle?*
			- resolver: *nope, zeptam se typka s co resi tuhle TLD*, *hej, znas tuhle adresu?*
			- TLD dns 1: *nope, tu jsem v zivote nevidel, tady mas kontakt na roota*
			- resolver: *hej roote, znas toho chuje co resi tuhle TLD?*
			- root: *ukaz, jop, to je tamhle ten hlavoun*
			- resolver: *hej, ty prej resis tuhle TLD, hledam server co ma za lubem tuhle domenu druhy urovne*
			- TLD dns 2: *ukaz, jop, to dela tamhle ten chuj*
			- resolver: *hej ty prej znas tuhle domenu druhy urovne, potrebuju to prelozit*
			- DNS s druhou...: *ukaz, jop, je to hale 123.123.123.123*
			- resolver: *oi, cliente mam pro tebe ten preklad, je to 123.123.123.123 a tuhle sracku si zapisuju*
		- reverzni dns
			- preklad IP na DNS zaznam
			- dns server tuto sluzbu poskytuje
			- jen musim mirrornout ip adresu (1.2.3.4 na 4.3.2.1)
		- DNS pro ipv6
			- resi se AAAA zaznam
			- jinak je to stejny
		- DNS64
			- kdyz neznam AAAA zaznam ale A ano tak pretvorim A na AAAA
			- vemu 192.0.2.33 a udelam z nej 64.ff9b::192.0.2.33
		- dynamicka DNS
			- automaticka aktualizace zaznamu
			- puziva se na siti s Active Directory a DHCP
		- DNS utoky
			- DNS spoofing
				- podvrzeni spatne dns
			- prvni vyhrava
				- spatna aktualizace?
			- Man In the Middle
				- podvrzeni proxy serveru a pouziti sveho DNS serveru
			- DNS poisoning
				- chyba nahodnosti ID dotazu
	- HTTP(s)
		- Http
			- HyperText transfer procol
			- TCP/80
			- puvodne se melo jednat o prenos dokumentu ve formatu html
			- verze
				- 1.1
					- Pipelining
					- Head of the line blocking
				- http/2 (tcp)
				- http/3 (udp)
			- bezstavovy protokol
				- http sessions
					- request na vse
				- url nebo cookies
			- chyby
				- 5 kategorii
				- 4xx - strana klienta
				- 5xx - strana serveru
			- http proxy
				- navazuje za klienta spojeni
		- HTTPs
			- Http secure
			- tcp/443
			- tls
				- nastupce ssl 3.0
				- dnes verze 1.3
			- certifikaty
				- potvrzeni verejneho klice
				- ruzni poskytovatele
					- lets encrypt
		- HTTP/3
			- vyuziva QUIC
				- Quic UDP Internet Connections
				- podminka je tls 1.3
				- je to snaha o eliminovani pomaleho navazovani spojeni tcp

**Bezpecnost**
	- Firewall
		- takovy mezikrok ktery hlida jestli to co se deje na siti a celkove v komunikaci jde podle jeho pravidel
		- resi sitovou, transportni a aplikacni vrstvu
			- muzu zablokovat ip, port a nebo aplikaci
		- typy dle implementace
			- hardwarove
			- softwarove
			- kombinace
		- typy dle urovne
			- bezstavovy (packetovy)
				- resi jen podle tabulky pravidel
				- white list, black list
				- smer, ip, port, tcp/udp, atd
			- stavovy
				- podle toho co se deje na siti
			- aplikacni a webove aplikacni
				- resi nam ruzne kraviny kolem webu a aplikaci
		- zone based firewall
			- pohyb packetu mezi zonami
	- IDS
		- Intrusion detection system
		- detekuje anomalie na siti a oznami je
	- IPS
		- Intrusion prevension system
		- detekuje a blokuje anomalie
	- DPI
		- Deep packet inspection
		- kombinace IDS, IPS a stavoveho firewallu
		- proste podle kontextu
		- vznikaji false pozitive
	- Honeypot
		- mimic ktery se chova jako spatne nastaveny komp
		- bud ho pouziju jako klec pro utocnika abych z logu vyporozoval co dela a podle toho resil bezpecnost celeho system a nebo je to pro me kontrolka ze je utocnik ve vnitr kdyz se na honeypotu neco deje

**Porty**

| Vrstva | Zkratka  | Název                                      | Port             | Protokol | Popis                                | Příklad                    |
| ------ | -------- | ------------------------------------------ | ---------------- | -------- | ------------------------------------ | -------------------------- |
| L4     | QUIC     | Quick UDP Internet Connections             | ---              | UDP      | Rychlejší alternativa TCP pro HTTP/3 | YouTube, Chrome            |
| L5     | NTP      | Network Time Protocol                      | 123              | UDP      | Synchronizace času                   | Servery, IoT               |
| L5     | DNS      | Domain Name System                         | 53               | UDP      | Překlad domén na IP                  | `example.com -> 192.0.2.1` |
| L5     | DHCP     | Dynamic Host Configuration Protocol        | 67, 68           | UDP      | Automatické přidělení IP adresy      | DORA proces                |
| L5     | RADIUS   | Remote Authentication Dial-In User Service | 1812, 1813       | UDP      | Autentizace a účetnictví             | Eduroam                    |
| L5     | HTTP     | HyperText Transfer Protocol                | 80               | TCP      | Webový přenos, nešifrovaný           | Prohlížeče                 |
| L5     | HTTPS    | HTTP Secure                                | 443              | TCP      | Šifrovaný webový přenos (TLS)        | Online bankovnictví        |
| L5     | FTP      | File Transfer Protocol                     | 20, 21           | TCP      | Přenos souborů (nezabezpečený)       | Stahování přes `ftp://`    |
| L5     | SSH      | Secure Shell                               | 22               | TCP      | Šifrované vzdálené připojení         | Správa serveru             |
| L5     | Telnet   | ---                                        | 23               | TCP      | Vzdálený přístup bez šifrování       | Testování portů            |
| L5     | SMTP     | Simple Mail Transfer Protocol              | 25               | TCP      | Odesílání e-mailů                    | Poštovní server            |
| L5     | POP3     | Post Office Protocol v3                    | 110              | TCP      | Stahování e-mailů                    | E-mail klient              |
| L5     | IMAP     | Internet Message Access Protocol           | 143              | TCP      | Přístup k e-mailům na serveru        | Mobilní e-mail             |
| L5     | SMTPs    | Secure SMTP                                | 465              | TCP      | Šifrované odesílání e-mailů          | Gmail                      |
| L5     | IMAPs    | Secure IMAP                                | 993              | TCP      | Šifrovaný přístup k e-mailům         | Outlook                    |
| L5     | POP3s    | Secure POP3                                | 995              | TCP      | Šifrované stahování e-mailů          | Thunderbird                |
| L5     | RDP      | Remote Desktop Protocol                    | 3389             | TCP      | Vzdálená plocha (Windows)            | RDP klient                 |
| L5     | HTTP Alt | Alternativní HTTP porty                    | 8080, 8008, 8090 | TCP      | Alternativní HTTP servery            | Vývojové servery           |

**IP adresy**

| Adresa/Prefix       | Typ  | Význam                       |
| ------------------- | ---- | ---------------------------- |
| 10.0.0.0/8          | IPv4 | Privátní síť (A)             |
| 172.16.0.0/12       | IPv4 | Privátní síť (B)             |
| 192.168.0.0/16      | IPv4 | Privátní síť (C)             |
| 127.0.0.1           | IPv4 | Loopback (localhost)         |
| 0.0.0.0             | IPv4 | Neznámá adresa / výchozí     |
| 169.254.0.0/16      | IPv4 | Link-local (APIPA)           |
| ::1                 | IPv6 | Loopback                     |
| ::/128              | IPv6 | Neznámá adresa               |
| ::/0                | IPv6 | Default route                |
| FF00::/8            | IPv6 | Multicast                    |
| FC00::/7 – FDFF::/7 | IPv6 | Privátní (unikátní lokální)  |
| fe80::/10           | IPv6 | Link-local                   |
| 2000::/3            | IPv6 | Globálně routovatelné adresy |
| ::ffff:0:0/96       | IPv6 | Mapování IPv4 adres          |

**Otazky z moodlu**
	1.
		- o MTU plati
			- je to maximalni velikost dat kterou lze vlozit do jednoho ramce
			- u ethernetu je to 1500
			- u wifi 2312
		- jednim z problemu na L2 je kdyz je ramec "rozmnozen" a dojde k zahlceni site, jaky je nazev
			- Broadcast storm
		- protokol ftp je na jakych protokolech
			- 20 a 21
		- ktere z informaci o udp jsou pravda
			- hlavicka obsahuje kontrolni soucet
			- udp nepotvrzuje dosle diagramy
		- k vlnove delce v optickych siti se vazi pojmy
			- lambda
			- foto
			- nanometr
		- o smtp lze napsat
			- pracuje na portu 25
			- smtp vyuziva mta
			- smtp pouziva standartne tcp komunikaci
		- ktera z informaci jsou pravdive ve vztahu k velikosti okna
			- velikost okna je dynamicka
			- velikost okna stanovi kolik bajtu najednou je ocekavano prijemcem nez posle potvrzeni
			- velikost okna se zvysuje pokud vsechny odeslane segmenty dorazi v poradku
		- mezi vyhody NAPT patri
			- snizuje nevyhody nedostatku ipv4
			- skryti vice PC za jednu IP
			- zvysuje bezpecnost
			- potencionalni utocnik z vnejsi site se nemuze spojit s pocitacem pokud jako prvni neinicioval spojeni
		- pri tcp komunikaci plati
			- ACK = SEQ+1
		- velikost hlavicky ethernetoveho ramce muze byt
			- 14 bajtu
			- 18 bajtu
	- 2.
		- wifi 6 vyuziva jaakou klicovou modulaci
			- OFDMA
			- Orthogonal Frequency Division Multiple Access
		- ktera z nasledujicich je ipv4 c trida?
			- 192.168.10.2
		- o korenovych dns serverech plati
			- jsou nejvyse v hierarchii dns stromu
			- spravuje root zone database
			- deli se do 13 skupin
		- SSH vyuziva
			- asymetricke sifrovani
			- par verejneho a privatniho klice
		- prepinaci tabulka neobsahuje
			- metriku
			- IP adresy
		- vicevidovy opticky kabel je oproti jednovidovemu charakterizovan
			- nizsi cena
			- vetsi prumer svetlovodiveho jadra
		- MAC adresa broadcastu je
			- FF:FF:FF:FF:FF:FF
		- WHOIS database poskytuje bezplatne inforamce o
			- jmeno registratora
			- nazev domeny
			- expirace domeny
			- stav domeny
			- vlastnik domeny
			- datum registrace
		- ktera z nasledujicich je ekvivalent IPv4 adresy 127.0.0.1
			- ::1/128
		- link-local adresa
			- ma rozsah fe80::/7
			- nesmeruje se mimo segment
	- 3.
		- co je bssid
			- mac adresa access pointu
		- tld
			- prvni
			- nejvyssi
		- spravce domeny pro eu
			- eurid
		- jakej cidr ma 1024 adres
			- /22
		- nepouzivana opticka komunikace
			- dark fiber
		- jake zaznamy ma dns
			- mx
			- a
			- cname
			- ns
			- glue
		- ftp
			- pouziva tcp
			- na prenaseni souboru
			- aktivni pasivni mod
		- jak se zapisuje ipv6
			- 8x16 hexa
			- 8x16 sestnackove
		- co znamena cc u DNS
			- country code
		- v cem je delka hlavicky
			- IHL
		- jake jsou privatni rozsahy
	- 4.
		- je adresa 169.253.0.127 verejna?
			- ano
		- ktery protokol pouziva port tcp/21
			- ftp
		- AAAA zaznam je v teorii DNS
			- ipv6 adresa
		- jak dlouha je ipv6
			- 128 bitu
		- jaky je frekvencni rozsah IEEE 802.11a
			- 5ghz
		- WPA personal pouziva radius server k authentizaci uzivatele
			- ne

**Otazky na papir**
	- Ipv6 linklocal stavova nestavova
	- NAT/PAT
	- RDP a NTS
	- TCP
	- IEEE 802.1x
	- IEEE 802.11
	- POE
	- TTL
	- Ipv6 privacy extansions
	- Osi modul
	- Optika
	- Dark fiber
	- HTTPS/3
	- Switch
	- DHCP
	- EUI-64